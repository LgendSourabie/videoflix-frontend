<main>
  <app-nav-bar logo="logo.svg" [login]="true" />
  <app-wrapper class="container">
    <div class="form-group">
      <h1>Log in</h1>
      <form (ngSubmit)="onLogin()" #form="ngForm">
        <div class="email-input-group">
          <input
            [(ngModel)]="email"
            required
            pattern="[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,}"
            #emailInput="ngModel"
            type="text"
            name="email"
            placeholder="Email Address"
          />
          <div class="warning">
            <p>
              {{ errorType === "email" ? errorMessage : "" }}
            </p>
          </div>
        </div>
        <div class="password">
          <input
            [(ngModel)]="password"
            required
            #passwordInput="ngModel"
            type="{{ type }}"
            name="password"
            placeholder="Password"
          />
          <img
            (click)="showPassword()"
            src="assets/img/{{ icon }}"
            alt="hide password"
          />
          <div class="warning">
            <!-- <img src="assets/img/warning.svg" alt="" /> -->
            <p>
              {{
                errorType === "credentials" || errorType === "account"
                  ? errorMessage
                  : ""
              }}
            </p>
          </div>
        </div>
        <div class="remember-me">
          <input type="checkbox" />
          <span>Remember me</span>
        </div>
        <div class="btn-group">
          <button
            [class.hover_effect]="emailInput.valid && passwordInput.valid"
            [disabled]="!passwordInput.valid || !emailInput.valid"
            [style.opacity]="
              !passwordInput.valid || !emailInput.valid ? '0.75' : '1'
            "
            type="submit"
            class="btn btn-submit"
          >
            Log in
          </button>
          <button
            (click)="onGuestLogin()"
            type="button"
            class="btn btn-submit btn-demo"
          >
            Demo
          </button>
        </div>
      </form>
      <button routerLink="/new-password" type="button" class="btn-forgot-extra">
        Forgot password?
      </button>
      <div class="signup-group">
        <span>New to Videoflix?</span
        ><button routerLink="/signup" class="btn-forgot-extra btn-signup-now">
          Sign Up now
        </button>
      </div>
    </div>
  </app-wrapper>
  <app-footer />
</main>
